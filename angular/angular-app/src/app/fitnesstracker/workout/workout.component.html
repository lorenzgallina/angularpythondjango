<div class="flex flex-col items-center">
  <!-- Top Section: Workout Plan Selector and Date Input -->
  <div class="flex flex-row gap-2.5 w-full justify-center">
    <!-- Workout Plan Selector -->
    <div class="w-1/2 flex flex-col items-center justify-center">
      <label class="block text-gray-700 text-sm font-bold mb-2">Select Workout Plan</label>
      <select class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" [(ngModel)]="selectedWorkoutPlanId" (change)="onWorkoutPlanSelected()">
        <option *ngFor="let plan of workoutPlans" [value]="plan.id">{{ plan.name }}</option>
      </select>
    </div>
  </div>

  <!-- Bottom Section: Exercise Table and Details -->
  <div class="flex flex-row gap-2.5 w-full justify-center">
    <!-- Exercise Table -->
    <div class="w-1/2 flex flex-col items-center justify-center p-4">
      <table class="min-w-full">
        <thead>
          <tr>
            <th class="text-center py-3 px-4">Exercises</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let exerciseGroup of exerciseControls; let i = index" (click)="selectExercise(i)" class="cursor-pointer hover:bg-gray-100 my-12">
            <td class="py-1">
              <div class="button-like-mini">{{ exerciseGroup.get('name')?.value }}</div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Right Side -->
    <div class="w-1/2 flex flex-col items-center justify-center p-4" *ngIf="selectedExerciseGroup">
      <!-- Exercise Details -->
      <div [formGroup]="selectedExerciseGroup">
        <!-- Exercise Name Display -->
        <div class="flex-1">
          <label class="block text-gray-700 text-sm font-bold mb-1">Exercise Name</label>
          <div class="py-2 px-3 bg-gray-100 rounded text-gray-700">
            {{ selectedExerciseGroup.get('name')?.value }}
          </div>
        </div>
        <!-- Weight Field -->
        <div class="flex row gap-5 items-center">
          <div class="flex-1">
            <label class="block text-gray-700 text-sm font-bold mb-1">Weight</label>
            <input class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" formControlName="weight" type="number">
          </div>
        </div>
        <!-- Sets Field -->
        <div class="flex row gap-5 items-center">
          <div class="flex-1">
            <label class="block text-gray-700 text-sm font-bold mb-1">Sets</label>
            <input class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" formControlName="sets" type="number">
          </div>
        </div>
        <!-- Reps Field -->
        <div class="flex row gap-5 items-center">
          <div class="flex-1">
            <label class="block text-gray-700 text-sm font-bold mb-1">Reps</label>
            <input class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" formControlName="reps" type="number">
          </div>
        </div>
        <!-- Navigation Buttons -->
        <div class="flex justify-between mt-4">
          <button class="button-like" (click)="selectPreviousExercise()">Previous</button>
          <button class="button-like" (click)="selectNextExercise()">Next</button>
        </div>
      </div>
    </div>
  </div>
</div>

<form [formGroup]="workoutForm" (ngSubmit)="submitWorkout()">
  <button class="button-like" type="submit">Finish Workout</button>
</form>